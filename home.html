<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>BidHub</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
        background-image: url('https://i.pinimg.com/474x/9d/7c/af/9d7caf002efa649234adcec4aadb96fc.jpg');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        background-color: rgba(10, 10, 10, 0.85); /* semi-transparent overlay */
        background-blend-mode: darken;
        color: #f5f5f5;
        display: flex;
        flex-direction: row;
        justify-content: space-between;
        height: 100vh;
        overflow: hidden;
      }
      
    .left-container {
      width: 60%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 0 40px;
    }

    .left-container h1 {
        font-size: 64px;
        font-weight: bold;
        margin-bottom: 20px;
        color: #690f7d;
        text-shadow:
          -1px -1px 0 #ef55f2,
           1px -1px 0 #ef55f2,
          -1px  1px 0 #ef55f2,
           1px  1px 0 #ef55f2; /* white outline effect */
      }

    .left-container p {
      font-size: 18px;
      color: #ccc;
      margin-bottom: 30px;
      max-width: 500px;
    }

    .arrow-button {
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      border: 2px solid #6e0c82;
      color: #81109a;
      font-size: 22px;
      cursor: pointer;
      transition: background-color 0.3s, color 0.3s;
    }

    .arrow-button:hover {
      background-color: #d156cf;
      color: black;
    }

    .right-container {
      width: 40%;
      height: 100vh;
      background-color: #121212;
      padding: 24px;
      overflow-y: auto;
      position: absolute;
      right: 0;
      top: 0;
      border-left: 1px solid #222;
    }

    /* Custom Scrollbar */
    .right-container::-webkit-scrollbar {
      width: 8px;
    }

    .right-container::-webkit-scrollbar-thumb {
      background-color: #333;
      border-radius: 4px;
    }

    .bid-item {
      background-color: #1c1c1c;
      padding: 16px 20px;
      margin-bottom: 15px;
      border-radius: 10px;
      display: flex;
      flex-direction: column;
      transition: background-color 0.3s;
      border: 1px solid #2a2a2a;
    }

    .bid-item:hover {
      background-color: #2a2a2a;
    }

    .bid-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100%;
    }

    .bid-details {
      display: flex;
      flex-direction: column;
      max-width: 70%;
    }

    .bid-details h2 {
      font-size: 20px;
      font-weight: 600;
      margin-bottom: 6px;
      color: #ffffff;
    }

    .bid-details p {
      font-size: 15px;
      color: #ddd;
      margin-bottom: 6px;
    }

    .bid-category, .bid-location, .bid-date, .bid-bidders {
      font-size: 12px;
      color: #888;
    }

    .view-more {
      background-color: #690f7d;
      color: black;
      border: none;
      padding: 10px 14px;
      cursor: pointer;
      border-radius: 6px;
      font-weight: 600;
      font-size: 14px;
      transition: 0.3s;
    }

    .view-more:hover {
      background-color: #852cc5;
    }

    .item-expanded {
      margin-top: 15px;
      padding-top: 15px;
      border-top: 1px solid #333;
      display: none;
    }

    .item-info {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-bottom: 15px;
    }

    .info-row {
      display: flex;
      justify-content: space-between;
    }

    .info-label {
      font-weight: 500;
      color: #aaa;
    }

    .info-value {
      color: #ddd;
    }

    .bid-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 15px;
    }

    .bid-input {
      padding: 10px;
      border-radius: 4px;
      border: 1px solid #444;
      background-color: #222;
      color: #fff;
    }

    .place-bid-btn {
      background-color: #690f7d;
      color: white;
      border: none;
      padding: 10px;
      border-radius: 4px;
      cursor: pointer;
      font-weight: 600;
      transition: 0.3s;
    }

    .place-bid-btn:hover {
      background-color: #852cc5;
    }

    .footer {
        position: absolute;
        bottom: 10px;
        left: 50%;
        transform: translateX(-50%);
        color: #888;
        font-size: 12px;
        opacity: 0.7;
      }
      
  </style>
</head>
<body>

  <div class="left-container">
    <h1>BidHub</h1>
    <p>Welcome to BidHub — your gateway to discovering and bidding on unique items from around the world. Whether you're into vintage collectibles, modern tech, or rare fashion, there's something for everyone. Explore the listings and place your winning bid today!</p>
    <p>Select an item from the list to view details and place your bid.</p>
    <div class="arrow-button">→</div>
  </div>

  <div class="right-container" id="bid-list"></div>

  <script>
    function getProducts() {
      return JSON.parse(localStorage.getItem("products")) || [];
    }

    function setProducts(products) {
      localStorage.setItem("products", JSON.stringify(products));
    }

    function initializeItems() {
      if (!localStorage.getItem("initialized")) {
        const defaultItems = [
          { name: "Gaming Console", bid: "$380", category: "ELECTRONICS", file: "gaming-console.html", location: "LA", date: "2025-04-15", image: "", bidders: ["Carol"] },
          { name: "Vinyl Collection", bid: "$520", category: "MUSIC", file: "vintage-vinyl.html", location: "Berlin", date: "2025-05-01", image: "", bidders: ["Dave"] },
          { name: "Handcrafted Vase", bid: "$280", category: "HOME DECOR", file: "handmade-potteery.html", location: "Delhi", date: "2025-05-12", image: "", bidders: ["Eve"] },
          { name: "Designer Handbag", bid: "$1,700", category: "FASHION", file: "", location: "London", date: "2025-05-20", image: "", bidders: [] },
          { name: "Rare Book Collection", bid: "$950", category: "BOOKS", file: "", location: "Paris", date: "2025-05-22", image: "", bidders: [] },
          { name: "Smartphone - 256GB", bid: "$1,100", category: "ELECTRONICS", file: "", location: "Tokyo", date: "2025-06-01", image: "", bidders: [] },
          { name: "Luxury Watch", bid: "$3,500", category: "FASHION", file: "", location: "Zurich", date: "2025-06-10", image: "", bidders: [] },
          { name: "Antique Painting", bid: "$5,200", category: "ART", file: "", location: "Rome", date: "2025-06-15", image: "", bidders: [] },
          { name: "Limited Edition Sneakers", bid: "$900", category: "FASHION", file: "", location: "NY", date: "2025-06-18", image: "", bidders: [] }
        ];
        setProducts(defaultItems);
        localStorage.setItem("initialized", "true");
      }
    }

    function renderBids() {
      const products = getProducts();
      const bidList = document.getElementById("bid-list");
      bidList.innerHTML = "";

      products.forEach((product, index) => {
        const item = document.createElement("div");
        item.classList.add("bid-item");
        item.dataset.index = index;

        const headerHtml = `
          <div class="bid-header">
            <div class="bid-details">
              <h2>${product.name}</h2>
            </div>
            <button class="view-more" onclick="toggleDetails(${index})">View More</button>
          </div>
        `;

        const expandedHtml = `
          <div class="item-expanded" id="expanded-${index}">
            <div class="item-info">
              <div class="info-row">
                <span class="info-label">Current Bid:</span>
                <span class="info-value">${product.bid}</span>
              </div>
              <div class="info-row">
                <span class="info-label">Category:</span>
                <span class="info-value">${product.category}</span>
              </div>
              <div class="info-row">
                <span class="info-label">Location:</span>
                <span class="info-value">${product.location}</span>
              </div>
              <div class="info-row">
                <span class="info-label">Auction End Date:</span>
                <span class="info-value">${product.date}</span>
              </div>
              <div class="info-row">
                <span class="info-label">Current Bidders:</span>
                <span class="info-value">${product.bidders?.join(", ") || "None"}</span>
              </div>
            </div>
            <div class="bid-form">
              <input type="text" class="bid-input" id="bid-amount-${index}" placeholder="Enter your bid amount (e.g. $400)">
              <button class="place-bid-btn" onclick="placeBid(${index})">Place Bid</button>
            </div>
          </div>
        `;

        item.innerHTML = headerHtml + expandedHtml;
        bidList.appendChild(item);
      });
    }

    function toggleDetails(index) {
      const product = getProducts()[index];
      if (product.file && product.file !== "") {
        window.location.href = product.file;
      } else {
        const expandedElement = document.getElementById(`expanded-${index}`);
        if (expandedElement.style.display === "block") {
          expandedElement.style.display = "none";
        } else {
          expandedElement.style.display = "block";
        }
      }
    }

    function placeBid(index) {
      const products = getProducts();
      const product = products[index];
      const bidAmountInput = document.getElementById(`bid-amount-${index}`);
      const bidAmount = bidAmountInput.value.trim();
      
      if (!bidAmount) {
        alert("Please enter a valid bid amount");
        return;
      }
      
      // Simple validation - ensure bid starts with $
      const formattedBid = bidAmount.startsWith('$') ? bidAmount : '$' + bidAmount;
      
      // Parse current bid and new bid for comparison
      const currentBidValue = parseFloat(product.bid.replace('$', '').replace(',', ''));
      const newBidValue = parseFloat(formattedBid.replace('$', '').replace(',', ''));
      
      if (isNaN(newBidValue) || newBidValue <= currentBidValue) {
        alert(`Your bid must be higher than the current bid of ${product.bid}`);
        return;
      }
      
      // Update the product with new bid
      product.bid = formattedBid;
      
      // Add current user to bidders (using a placeholder name for demo)
      const username = localStorage.getItem("username") || "You";
      if (!product.bidders) {
        product.bidders = [username];
      } else if (!product.bidders.includes(username)) {
        product.bidders.push(username);
      }
      
      // Save updated products
      products[index] = product;
      setProducts(products);
      
      // Refresh the display
      renderBids();
      
      // Show success message
      alert(`Bid of ${formattedBid} placed successfully!`);
      
      // Keep the item expanded
      document.getElementById(`expanded-${index}`).style.display = "block";
    }

    // For demo purposes - set a username
    function setupUsername() {
      if (!localStorage.getItem("username")) {
        localStorage.setItem("username", "You");
      }
    }

    // Initialize
    initializeItems();
    setupUsername();
    renderBids();
  </script>
  <footer class="footer">
    © 2025 BidHub. All rights reserved.
  </footer>
  
</body>
</html>
